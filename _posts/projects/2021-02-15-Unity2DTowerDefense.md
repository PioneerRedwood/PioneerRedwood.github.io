---
layout: post
title: "Unity 2D Tower Defense"
date: 2021-02-15
category: projects
---

## 개요

스타크래프트의 유즈맵 중 랜덤 타워 디펜스(이하 랜타디)를 유니티로 재구성한 게임. 타일에 타워를 설치하고 조합해 몬스터를 처치합니다.

## 기간

2020년 12월 22일 ~ 2021년 2월 15일 (약 2개월)

## 팀원

조병민(PioneerRedwood), 오경민(Lulie)

## 상세 내용

담당한 부분은 타일 생성 에디터, 스테이지, 타워 - 몬스터 상호작용, 미션, 타워 업그레이드, 장애물 시스템이 있습니다. 

### 타일 생성 에디터

유니티의 인스펙터 창에서 동적으로 타일 맵을 생성할 수 있도록 하는 툴입니다. 타일 맵의 구성을 쉽게 변경할 수 있도록 설계하는데 중점을 두었습니다.

### 스테이지

스테이지에는 한 개 이상의 웨이브가 존재하며 웨이브는 몬스터 종류, 수, 시간이 지정돼있습니다. 스테이지는 정해진 시간 별로 웨이브를 로드하여 게임을 진행합니다. 사전에 구성된 스테이지를 로드하고 현재 스테이지를 클리어하면 다음 스테이지로 넘어갈 수 있습니다. UI 구성에서 스테이지 선택시 넘기는 부분의 부드러운 움직임을 구현하기 위해 노력했습니다.

### 타워 - 몬스터 상호작용

타워는 몬스터가 들어오는 것을 감지하는 범위가 있어 해당 범위에 들어오면 몬스터를 타겟으로 삼고 일정시간마다 공격합니다. 타워는 일반 총알, 범위 공격 총알(AOE), 버프, 슬로우, 레이저 타워로 5가지 종류가 있습니다. 버프 타워는 범위 내 다른 타워들의 공격력을 증가시켜주며 슬로우 타워는 범위 내 몬스터의 이동속도를 감소시킵니다.

### 미션

소유하고 있는 타워의 특정 조건을 만족하면 클리어되는 퀘스트 시스템입니다. 버튼을 눌러서 조건이 어떤것인지 확인할 수 있습니다. 타워가 생성되거나 조합되는 경우에 조건을 검색해 완료됐는지 확인합니다.

### 타워 업그레이드

클리어하는 웨이브마다 보상으로 주어지는 비용을 소모하여 타워 티어 별로 업그레이드를 수행합니다. 티어가 낮은 것이 몇번의 업그레이드를 통해 위 티어보다 압도적인 성능을 내지 않도록 밸런스 조절하는 데에 중점을 두었습니다.

### 장애물 시스템

맵은 몬스터가 다니는 길목과 타워를 설치할 수 있는 그라운드로 구성돼있습니다. 장애물은 몬스터가 다니는 길목에 일정 비용을 소모하여 설치하여 몬스터들의 진행을 차단합니다. 몬스터의 종류에 관계없이 일정 시간동안 붙어있으면 체력이 소모돼 소멸합니다. 압도적인 가성비를 자랑합니다.

## 후기

유니티를 사용한 전반적인 협업 개발을 경험했습니다. 특히 유니티 콜라보레이션을 통해 프로젝트를 공유할 수 있었고 개발 기간동안 주 5회 이상 미팅을 가지면서 커뮤니케이션에도 소홀히 하지 않았습니다. 개발한 코드들은 Git을 통해 관리했습니다.

게임 내부의 객체들 간의 상호작용을 효율적으로 하기 위한 방안이 어떤 것이 있는지 알아보는데에 적지 않은 시간을 사용했습니다. 예를 들어 Tick 함수에 다 넣기보다 반복되는 연산이 필요한 곳에는 최대한 InvokeRepeating 함수를 활용했습니다. 

UI나 이펙트 등이 완성도 높지 못해 아쉬운 부분이 남았습니다. 

## 링크 
[GitHub 링크](https://github.com/PioneerRedwood/Unity_2D_DefenseGame)

## 시연 영상
[시연 유튜브 링크](https://youtu.be/oCWXjGn1js4?si=4VwpdJTROCoP-nRc)